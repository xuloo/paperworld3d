<project name="Compile @NAME@ Module" default="compile-library" basedir=".">
	
	<target name="compile-library" depends="delete-library" description="compiles a module's library component">
		<echo>${FLEX_HOME}</echo>
		<compc  
           output="@DEPLOY.PATH@/@LIBRARY.COMPONENT.FILE@"	
		   include-classes="
		   @CLASSES@
		">
			<load-config filename="@MODULE.PATH@/@CONFIG.FILE@"/>
	    </compc>
		<antcall target="unzip"/>
	</target>
	
	<target name="create-docs" description="creates asdoc documentation for this module">
		<echo>Creating documentation for @NAME@ ${asdoc}</echo>
		<exec executable="C:/Program Files/Adobe/Flex Builder 2/Flex SDK 2/bin/asdoc.exe" failonerror="false">
			<arg line="-doc-classes @CLASSES@" />
			<arg line="-load-config @CONFIG.FILE@" />
		</exec>
	</target>
	
	<target name="unzip" description="unzips the swc created by compile-library so the swf can be dynamically linked and the swc can be used for compile-time checking">
		<echo>Unzipping @NAME@ library to @DEPLOY.PATH@</echo>
		<unzip src="@DEPLOY.PATH@/@LIBRARY.COMPONENT.FILE@" dest="@DEPLOY.PATH@"/>
	</target>
	
	<target name="delete-library">
		<delete>
			<fileset dir="@DEPLOY.PATH@" includes="**/*"/>
		</delete>
	</target>
	
</project>